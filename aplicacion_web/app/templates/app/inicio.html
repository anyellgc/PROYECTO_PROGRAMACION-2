{% extends "app/conexion.html" %}
{% block content %}
{% load static %}
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
  
  body {
      font-family: 'Poppins', sans-serif;
      background-color:rgb(147, 230, 22);
  }

  /* Contenedor principal */
  .contenedor-principal {
      background-color:rgb(137, 203, 129);
      padding: 40px;
      margin: 35px auto;
      max-width: 1700px;
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
  }

  h1, h2 {
      font-weight: 600;
      color: #2c3e50;
  }

  /* Formulario */
  .card {
      border: none;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
      border-radius: 12px;
  }

  .form-control {
      border-radius: 10px;
      border: 1px solid #ccc;
  }

  .btn {
      font-weight: 500;
      transition: all 0.3s ease;
      border-radius: 8px;
  }

  .btn-success {
      background-color: #27ae60;
      border-color: #27ae60;
  }

  .btn-success:hover {
      background-color: #219150;
  }

  /* Tabla */
  .table th {
      background-color: #2c3e50;
      color: #fff;
  }

  .table td {
      vertical-align: middle;
  }

  /* Estilo para botones en tabla */
  .table a.btn {
      padding: 6px 12px;
  }

  /* Contenedor de botones extra */
  .contenedor-botones-acciones {
      background-color:rgb(68, 130, 74);
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #e0e0e0;
      margin-top: 30px;
      text-align: center;
  }

  .contenedor-botones-acciones h4 {
      margin-bottom: 20px;
      color: #333;
      font-weight: 500;
  }

  .botones-grupo {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
  }

  .botones-grupo a {
      padding: 12px 20px;
      font-weight: 500;
      min-width: 180px;
      text-decoration: none;
      border-radius: 10px;
      border: 2px solid transparent;
      transition: all 0.3s ease;
      color: white;
      background-color: #3498db;
  }

  .botones-grupo a:hover {
      background-color: #2980b9;
      transform: scale(1.05);
  }

  .botones-grupo a:active {
      transform: scale(0.95);
      opacity: 0.7;
  }

  .alert {
      font-size: 14px;
      border-radius: 8px;
      padding: 10px 15px;
  }

</style>

<div class="contenedor-principal">
  <div class="row">
    <!-- Formulario -->
    <div class="col-sm-12 col-md-6 col-lg-4 col-xl-4">
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-dismissible alert-success">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            <strong class="text-dark">{{ message }}</strong>
          </div>
        {% endfor %}
      {% endif %}

      <h2>GESTI√ìN DE CURSOS</h2>
      <div class="card">
        <div class="card-body">
          <form action="/registrarCurso/" method="POST">{% csrf_token %}
            <div class="form-group">
              <input type="text" id="txtCodigo" name="txtCodigo" class="form-control" placeholder="C√≥digo" minlength="6" maxlength="8" required>
            </div>
            <div class="form-group">
              <input type="text" id="txtNombre" name="txtNombre" class="form-control" placeholder="Nombre" maxlength="50" required>
            </div>
            <div class="form-group">
              <input type="number" id="numCupos" name="numCupos" class="form-control" min="1" max="999" placeholder="Cupos" value="1" required>
            </div>
            <div class="form-group">
              <button type="submit" class="btn btn-success btn-block text-white">GUARDAR</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Tabla de cursos -->
    <div class="col-sm-12 col-md-6 col-lg-8 col-xl-8">
      <h1>LISTADO DE CURSOS</h1>
      <div class="table-responsive py-3">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>#</th>
              <th>C√ìDIGO</th>
              <th>NOMBRE</th>
              <th>CUPOS</th>
              <th colspan="3">OPCIONES</th>
            </tr>
          </thead>
          <tbody>
            {% for c in cursos %}
            <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ c.codigo }}</td>
              <td>{{ c.nombre }}</td>
              <td>{{ c.cupos }}</td>
              <td><a href="asignacion.html" class="btn btn-primary">ASIGNAR</a></td>
              <td><a href="edicionCurso/{{ c.codigo }}" class="btn btn-info">EDITAR</a></td>
              <td><a href="eliminarCurso/{{ c.codigo }}" class="btn btn-danger btnEliminacion">ELIMINAR</a></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>

        <!-- √Årea de botones de acci√≥n -->
        <div class="contenedor-botones-acciones">
          <h4>Acciones R√°pidas</h4>
          <div class="botones-grupo">
            <a href="calendario.html">üìÖ Ver Calendario</a>
            <a href="ver_calificaciones/">üìù Calificaciones</a>
            <a href="registrar_calificacion.html">‚ûï Registrar Calificaci√≥n</a>
            <a href="estadisticas.html">üìä Informes y Estad√≠sticas</a>
            <a href="recurso.html">üìöRecursosüìò</a>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

{% endblock %}
